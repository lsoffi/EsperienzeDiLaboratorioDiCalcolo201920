\documentclass[11pt]{article}
\usepackage{textcomp}
\usepackage{graphicx,wasysym, mdframed,xcolor,gensymb,verbatim}
\usepackage{color}
\usepackage{floatflt}
\input{listings_styles.tex}
\usepackage[shortlabels]{enumitem}
\usepackage[italian]{babel}
\def\cmu{\mbox{cm$^{-1}$}}
\def\half{\frac{1}{2}}

\voffset -2cm
\hoffset -2.5cm
%\marginparwidth 0cm
\textheight 22cm
\textwidth 17cm
%\oddsidemargin  0.2cm                                                                                         
%\evensidemargin 0.4cm                                                                                         
\parindent=0pt

\begin{document}
\pagestyle{empty}

\begin{center}
{\Large \bf  Laboratorio di Calcolo per Fisici, Seconda esercitazione\\[2mm]}
{\large Canale Pb-Z, Docente: Lilia Boeri}
\end{center}
\vspace{1mm}

\begin{mdframed}[backgroundcolor=panna]
  Lo scopo della seconda esercitazione di laboratorio \`e di
  scrivere da zero dei semplici programmi in c, usando le funzioni
  della libreria matematica \texttt{math.h} e di familiarizzarsi con i diversi
  comandi di {\em formattazione\/} dell'output per realizzare diversi
  tipi di grafico.
  \end{mdframed}
%\vspace{1mm}
%
%
\hrule
\vspace{1mm}
\textbf{$\RHD$ Prima parte:} 
\begin{enumerate}
\item Scrivere da zero il programma C \texttt{matematica.c} che, utilizzando la libreria matematica esterna \texttt{math.h}, calcoli correttamente e stampi su schermo i valori delle seguenti espressioni:
  \begin{eqnarray*}
    8+7 \qquad  3.2 + 8.4 \qquad 2^2+4^2 \qquad  \sqrt{36}
    \\
    \cos \left(\frac{\pi}{4}\right) \qquad \sin\left(\frac{\pi}{6}\right)
    \qquad
    \tanh\left(1\right) \qquad \sinh\left(0\right)
    \end{eqnarray*}

\item {\bf Attenzione!} Per {\em linkare\/} la libreria \texttt{math.h} bisogna inserire un opportuno comando
nell'{\em header\/} del programma, e chiamare il compilatore \texttt{gcc} con l'opzione -lm, cio\`e:\\
\begin{lstlisting}[language=bash]
  gcc matematica.c -lm -o matematica.x
\end{lstlisting} 
\item Una volta verificato che il programma calcola esattamente le quantit\`a richieste, utilizzare i comandi di formattazione del C per stampare i risultati
  su due righe con i seguenti formati: {\em Per i numeri interi\/}: una larghezza minima di tre caratteri; {\em Per i numeri in virgola mobile\/}: quattro cifre dopo la virgola.
  \\
    {\em Suggerimento:\/} Nella stringa di formattazione oltre ai caratteri relativi al formato delle variabili si possono
inserire lettere, numeri e caratteri speciali.
    
\item Aggiungere al programma un messaggio iniziale, che viene stampato prima della lista di numeri, del tipo \texttt{Benvenuto! Questo \`e un programma dimostrativo delle funzioni della libreria {\em math.h}}.
\item Aggiungere una sezione di programma che chieda all'utente di inserire il proprio nome come {\em stringa\/}
e lo stampi all'interno del messaggio di benvenuto; il risultato finale deve essere qualcosa del tipo:\\
\texttt{Benvenuto Marco! Questo \`e un programma dimostrativo delle funzioni della libreria {\em math.h}}.
\end{enumerate}

\hrule
\vspace{1mm}
\textbf{$\RHD$ Seconda parte:} 
Un moto circolare uniforme nel piano $(x,y)$ \`e descritto dalle equazioni:
\[
\left\{ \begin{array}{ll} 
x(t) = R \cos \left(\omega t \right)
\\ 
y(t) = R \sin \left(\omega t \right),
\end{array}
\right.
\]
dove $R$ \`e il raggio della traiettoria e $\omega$ la velocit\`a angolare.
L'obiettivo della seconda parte dell'esercitazione \`e quello di scrivere un programma che utilizzi la libreria \texttt{math.h}
per risolvere le equazioni della traiettoria per $R=6.2$ m, $\omega=0.1 \; rad/s$ e stampi i risultati in maniera opportuna.

\begin{enumerate}
\item Scrivere un programma che calcoli i valori di $x(t)$ e $y(t)$ per i valori: $t=0$, $t=0.5$, $t=10$, $t=20$ s.
Verificare che i risultati ottenuti con il programma riproducano quelli che si otterrebbero risolvendo {\em a mano\/} le equazioni del moto.

\item Inserire un blocco di programma che chieda all'utente di inserire il valore del tempo $t$ da tastiera, e usi il valore inserito per calcolare e stampare i valori di $x$ e $y$ nel formato:
  \\
  \texttt{(x,y)= \ldots,\ldots}
  
\item Una volta verificato che il programma produce risultati corretti, riformattare
  l'output in modo da stampare i tre valori $t,x,y$ su tre colonne, separate da spazi vuoti, come nell'esempio sottostante (stampare almeno 4 cifre decimali):
  \\
  \texttt{2.5000    4.3841    4.3841}%
\item {\em Suggerimento:\/} Per modificare piccole parti di programma senza cancellare quello che
  si \`e fatto in precedenza pu\`o essere utile inserire un {\em commento}.
  In $C$ un commento \`e racchiuso dai delimitatori \texttt{/*} e  \texttt{*/}, come nell'esempio
  sottostante:
\begin{lstlisting}[language=c,numbers=none]
  /* Questo è un commento */
\end{lstlisting}%
oppure è sufficiente iniziare la linea con \texttt{//}, ovvero:
\begin{lstlisting}[language=c,numbers=none]
  // Anche questo è un commento
\end{lstlisting}
\end{enumerate}


\hrule
\vspace{1mm}
\textbf{$\RHD$ Terza parte (obbligatoria)} 

In questa terza parte dell'esercitazione useremo il programma \texttt{circle.c} per
studiare l'andamento del moto circolare uniforme, utilizzando \texttt{gnuplot}.
\begin{enumerate}
\item Eseguire il programma \texttt{circle.c} un numero di volte sufficiente ad avere una distribuzione di punti su tutta la traiettoria circolare; salvare
  i risultati su un file \texttt{traiettoria.dat} che contenga tre colonne $t,x,y$, come nel punto 4.\ del precedente esercizio.
  {\em Ricordatevi che se volete inserire un'intestazione in un file di dati letto tramite \texttt{loadtxt} in \texttt{python}, dovete aggiungere il parametro \texttt{comments='\#'}, assumendo che i commenti inizino con il simbolo \texttt{\#}}.

\item Utilizzare \texttt{python} per graficare la traiettoria, plottando $y$ in funzione di $x$.
  {\em Per plottare solo due colonne di un file che ne contiene molte, la funzione \texttt{loadtext} va chiamata 
  con il parametro \texttt{usecols(i,j)}, dove \lstinline{i} e \lstinline{j} sono le colonne da plottare ($0$ è la prima colonna). Nel nostro caso, se volessimo plottare solo la seconda e la terza colonna il comando completo da usare nello script \texttt{python} diventa:\/} \\
  \begin{lstlisting}[language=Python,numbers=none]
  np.loadtext('traiettoria.dat', comments=['#'], usecols(1:2),
      unpack=True)
\end{lstlisting}
\item 
  Creare altri due grafici che mostrino l'andamento della coordinata $x$ e della coordinata $y$ in funzione del tempo, rispettivamente.
\item Salvare i tre grafici in tre file separati, chiamati: \texttt{traiettoria.png; x.png; y.png}.
  {\em Per salvare i grafici con gnuplot, bisogna usare il seguento comando python\/}
\begin{lstlisting}[language=Python,numbers=none]
     plt.savefig('traiettoria.png')
\end{lstlisting}
  %(L'ultimo comando rimanda l'output sulla finestra).
  %L'alternativa e' usare l'interfaccia della finestra grafica di \texttt{gnuplot}.
\item Se i grafici sono corretti, dovreste saper rispondere alle seguenti domande:
\begin{enumerate}[(a)]
\item quanto vale il raggio della traiettoria? 
\item Qual \`e l'equazione della traiettoria? ({\em Per equazione della
  traiettoria si intende un'espressione del tipo $f(x,y)=c$ soddisfatta da tutti i punti della traiettoria\/}). 
\item Qual \`e il {\em periodo\/} della traiettoria? 
\item In quali punti sono massimi/minimi i valori di $x(t)$ e $y(t)$? ({\em Scrivere le risposte su un file di testo \texttt{risposte.txt}\/}).
\end{enumerate}
\end{enumerate}

\hrule
\vspace{1mm}\textbf{$\RHD$ Quarta parte (facoltativa)\\}

L'andamento delle {\em componenti\/} della velocit\`a in un moto circolare uniforme \`e dato da:
\[
\left\{ \begin{array}{ll} 
v_x(t) = - \omega R \sin \left(\omega t \right)
\\ 
v_y(t) = \omega R \cos \left(\omega t \right),
\end{array}
\right.
\]

\begin{enumerate}
\item Modificare il programma \texttt{circle.c} per calcolare anche la velocit\`a del punto lungo la traiettoria.
\item Graficare l'andamento della velocit\`a in funzione del tempo lungo la traiettoria: quanto vale il {\em modulo della velocit\`a\/}? In che direzione punta il {\em vettore velocit\`a\/} per $t=0$?
E per $t=10$? In quali punti  sono massimi/minimi i valori di $v_x(t)$ e $v_y(t)$? Qual \`e il significato fisico di quello che osservate? ({\em Scrivere le risposte sul file di testo \texttt{risposte.txt}\/}) creato in precedenza.
\item Disegnare il vettore velocit\`a lungo la traiettoria, come una freccia che punta nella direzione corretta sfruttando
  il seguente codice \emph{python}:\\
\\

\begin{lstlisting}[language=Python,numbers=none]
  x, y, vx, vy = np.loadtxt('temp.dat', usecols=(0,1,2,3), unpack=True)
  for cc in range(0,len(x)):
    xi=x[cc]
    yi=y[cc]
    vxi=vx[cc]
    vyi=vy[cc]
    plt.arrow(xi,yi,vxi,vyi,width=0.2,head_width=0.5,head_length=0.3, 
      fc='r', ec='r')   
\end{lstlisting}
che disegna \texttt{len(x)} frecce di lunghezza \texttt{(vx,vy)} nei punti \texttt{(x,y)}. 
\end{enumerate}  
\vspace{-2mm}
\newpage
\textbf{Funzioni pi\'u comuni della libreria \texttt{math.h}:}
\begin{mdframed}[backgroundcolor=panna]
\texttt{{\bf acos}	arcocoseno
\\
{\bf asin}	arcoseno
\\
{\bf atan}	arcotangente
\\
{\bf atan2}	arcotangente di due parametri
\\
{\bf ceil}	il più piccolo intero non minore del parametro
\\
{\bf cos}	coseno
\\
{\bf cosh}	coseno iperbolico
\\
{\bf exp(double x)}	funzione esponenziale, calcola $e^x$
\\
{\bf fabs}	valore assoluto
\\
{\bf floor}	il più grande intero non maggiore del parametro
\\
{\bf fmod}	resto del numero in virgola mobile
\\
{\bf frexp}	frazione e potenza di due.
\\
{\bf ldexp}	operazione in virgola mobile
\\
{\bf log}	logaritmo naturale
\\
{\bf log10}	logaritmo in base 10
\\
{\bf pow(x,y)}	eleva un valore dato ad esponente, xy
\\
{\bf sin}	seno
\\
{\bf sinh}	seno iperbolico
\\
{\bf sqrt}	radice quadrata
\\
{\bf tan}       tangente
\\
{\bf tanh}	tangente iperbolica
}
\end{mdframed}
\end{document}
